<template>
  <div class="lang-switch">
    <b-button
      v-b-toggle.collapse-lang-switch
      variant="link"
      class="lang-switch-btn"
    >
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="#eee">
        <path
          d="M470.331 92.24H269.728l-26.935-81.355a10.025 10.025 0 0 0-9.518-6.875H41.669C18.693 4.01 0 22.703 0 45.679v332.412c0 22.976 18.693 41.669 41.669 41.669h203.145l27.073 81.369a10.026 10.026 0 0 0 9.513 6.861h188.932c22.976 0 41.669-18.693 41.669-41.669V133.909c-.001-22.976-18.694-41.669-41.67-41.669zM41.669 399.708c-11.919 0-21.616-9.697-21.616-21.616V45.679c0-11.919 9.697-21.616 21.616-21.616h184.364l70.691 213.516a.366.366 0 0 0 .015.043l53.664 162.086H41.669zm295.78-116.433c.805 1.11 10.824 14.877 26.355 34.066-4.377 5.756-9.015 11.474-13.91 17.036l-29.712-89.74h87.441c-6.196 13.031-16.938 33.813-31.692 55.736-13.553-16.921-22.069-28.622-22.249-28.87-3.251-4.482-9.519-5.481-14.002-2.23-4.482 3.25-5.48 9.518-2.231 14.002zM265.946 419.76h75.162l-55.503 59.084-19.659-59.084zm226.002 46.561c0 11.919-9.697 21.616-21.616 21.616H304.575l67.015-71.339-.004-.003c.293-.312.571-.64.823-.991a10.025 10.025 0 0 0 1.39-9.022l-16.688-50.402c7.073-7.406 13.68-15.143 19.805-22.965 13.299 15.772 29.037 33.446 45.778 50.187 1.957 1.957 4.524 2.937 7.089 2.937s5.132-.979 7.089-2.937c3.916-3.916 3.916-10.264 0-14.178-17.461-17.461-34.013-36.244-47.687-52.632 21.251-30.503 35.033-59.504 40.535-71.954h21.454c5.537 0 10.026-4.489 10.026-10.026s-4.489-10.026-10.026-10.026h-66.173v-18.047c0-5.537-4.489-10.026-10.026-10.026s-10.026 4.489-10.026 10.026v18.046h-51.406l-37.178-112.292H470.33c11.919 0 21.616 9.697 21.616 21.616v332.412z"
        ></path>
        <g>
          <path
            d="M208.58 300.131a12.239 12.239 0 0 1-11.53-8.128l-49.672-139.1-49.67 139.1c-2.529 6.27-9.66 9.303-15.93 6.775a12.24 12.24 0 0 1-7.107-15l61.201-171.365c2.994-6.36 10.578-9.09 16.939-6.098a12.735 12.735 0 0 1 6.098 6.098l61.201 171.365c2.28 6.347-1.005 13.342-7.344 15.643a12.391 12.391 0 0 1-4.186.71z"
          ></path>
          <path
            d="M171.859 226.69h-48.962c-6.76 0-12.24-5.481-12.24-12.242 0-6.76 5.48-12.24 12.24-12.24h48.962c6.76 0 12.24 5.48 12.24 12.24s-5.48 12.241-12.24 12.241z"
          ></path>
        </g>
      </svg>
    </b-button>
    <b-collapse id="collapse-lang-switch" class="mt-2">
      <b-list-group>
        <b-list-group-item v-for="locale in $i18n.locales" :key="locale.code">
          <nuxt-link
            v-b-toggle.collapse-lang-switch
            :to="switchLocalePath(locale.code)"
            >{{ locale.name }}</nuxt-link
          >
        </b-list-group-item>
      </b-list-group>
    </b-collapse>
  </div>
</template>

<style lang="scss">
.lang-switch {
  position: absolute;
  z-index: 200;
  top: 1.5rem;
  right: 1.5rem;
  padding-top: 3rem;

  @media screen and (max-width: 768px) {
    top: 1rem;
    right: 1rem;
    padding-top: 2rem;
  }
}

.lang-switch-btn {
  position: absolute;
  top: 0;
  right: 0;
  padding: 0;
  margin: 0;
  width: 2.5rem;
  height: 2.5rem;

  @media screen and (max-width: 768px) {
    width: 1.5rem;
    height: 1.5rem;
  }
}
</style>
